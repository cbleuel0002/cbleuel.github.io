<!DOCTYPE html>
	<html><head> <meta charset="UTF-8">  <title>Program 5</title>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.1.2/handlebars.min.js"></script>
	</head>
	<body>
		<div id="majorTable"></div>
	</body>
 
	<script type="text/x-handlebars-template" id="tableTemplate">
		<table cellspacing='12'>
			<tr><th>Name</th><th>Major</th><th>Midterm</th><th>Final</th></tr>
				{{#each rows}}
					<tr>
						<td>{{name}}</td><td>{{major}}</td><td>{{midterm}}</td><td>{{final}}</td>
					</tr>
				{{/each}}
		</table>
	</script>
	
	<script>
		var request = new XMLHttpRequest();
		var url = "cit5students.json";
		request.open('GET', url);
		
		request.onload = function()
		{
			var data = JSON.parse(request.responseText);
			if (request.statatus == 200)
			{
			var templateText = document.getElementById('tableTemplate').innerHTML;
			var compiledTemplateText = Handlebars.compile(templateText);
			compiledHtml = compiledTemplateText({ rows: data })
			document.getElementById('majorTable').innerHTML = compiledHtml;
			}
			else
			{
			document.querySelector('#majorTable').innerHTML = "There was an error, or data not found";
			}
		}
		
		request.send(null);
	</script>
	</html>
